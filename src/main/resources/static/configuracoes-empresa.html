<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configura√ß√µes da Empresa - Ponto Online</title>
    <link rel="stylesheet" href="/css/estilos.css">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/configuracoes-empresa.css">
    <link rel="stylesheet" href="/css/toast.css">

</head>

<body>
    <!-- Navbar Padronizada -->
    <nav class="navbar">
        <div class="navbar-content">
            <h1 class="logo">üìä Ponto Online</h1>
            <div class="navbar-menu">
                <a href="/admin.html" class="nav-link">Dashboard</a>
                <a href="/gerenciar-funcionarios.html" class="nav-link">Gerenciar Funcion√°rios</a>
                <a href="/registrar-ponto-manual.html" class="nav-link">Registrar Ponto Manual</a>
                <a href="/aprovar-justificativas.html" class="nav-link">Aprovar Justificativas</a>
                <a href="/gerenciar-ferias.html" class="nav-link">F√©rias e Afastamentos</a>
                <a href="/configuracoes-empresa.html" class="nav-link active">Configura√ß√µes</a>
                <a href="/gerenciar-locais.html" class="nav-link">Locais Permitidos</a>
                <a href="/gerenciar-escalas.html" class="nav-link">Escalas e Turnos</a>
            </div>
            <div class="navbar-user">
                <span class="user-badge">Administrador</span>
                <button onclick="logout()" class="btn-logout">Sair</button>
            </div>
        </div>
    </nav>


    <main class="container">
        <h2>‚öôÔ∏è Configura√ß√µes da Empresa</h2>
        <p style="color: var(--text-secondary); margin-bottom: 2rem;">
            Gerencie hor√°rios, feriados e pol√≠ticas da empresa
        </p>

        <!-- Main Content -->
        <div class="main-content">

            <!-- Bot√£o Salvar Fixo -->
            <div class="save-bar">
                <button class="btn-primary btn-save" id="btnSalvar">
                    <span>üíæ Salvar Configura√ß√µes</span>
                </button>
            </div>

            <!-- Se√ß√£o: Hor√°rio de Trabalho -->
            <section class="config-section">
                <div class="section-header">
                    <h2>üïê Hor√°rio de Trabalho Padr√£o</h2>
                    <p>Defina os hor√°rios padr√£o de trabalho da empresa</p>
                </div>
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="horaEntrada">Hora de Entrada</label>
                            <input type="time" id="horaEntrada" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="horaSaidaAlmoco">Sa√≠da para Almo√ßo</label>
                            <input type="time" id="horaSaidaAlmoco" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="horaRetornoAlmoco">Retorno do Almo√ßo</label>
                            <input type="time" id="horaRetornoAlmoco" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="horaSaida">Hora de Sa√≠da</label>
                            <input type="time" id="horaSaida" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="cargaHorariaDiaria">Carga Hor√°ria Di√°ria (horas)</label>
                            <input type="number" id="cargaHorariaDiaria" class="form-control" min="1" max="24"
                                step="0.5" required>
                            <small class="form-hint">Exemplo: 8 horas</small>
                        </div>
                        <div class="form-group">
                            <label for="cargaHorariaSemanal">Carga Hor√°ria Semanal (horas)</label>
                            <input type="number" id="cargaHorariaSemanal" class="form-control" min="1" max="168"
                                step="0.5" required>
                            <small class="form-hint">Exemplo: 40 horas</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o: Dias √öteis -->
            <section class="config-section">
                <div class="section-header">
                    <h2>üìÖ Dias √öteis</h2>
                    <p>Selecione os dias da semana em que a empresa funciona</p>
                </div>
                <div class="section-content">
                    <div class="days-grid">
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaSegunda" checked>
                            <span class="day-label">Segunda-feira</span>
                        </label>
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaTerca" checked>
                            <span class="day-label">Ter√ßa-feira</span>
                        </label>
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaQuarta" checked>
                            <span class="day-label">Quarta-feira</span>
                        </label>
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaQuinta" checked>
                            <span class="day-label">Quinta-feira</span>
                        </label>
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaSexta" checked>
                            <span class="day-label">Sexta-feira</span>
                        </label>
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaSabado">
                            <span class="day-label">S√°bado</span>
                        </label>
                        <label class="day-checkbox">
                            <input type="checkbox" id="diaDomingo">
                            <span class="day-label">Domingo</span>
                        </label>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o: Toler√¢ncias -->
            <section class="config-section">
                <div class="section-header">
                    <h2>‚è±Ô∏è Toler√¢ncias</h2>
                    <p>Defina os minutos de toler√¢ncia para atrasos</p>
                </div>
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="toleranciaEntrada">Toler√¢ncia de Entrada (minutos)</label>
                            <input type="number" id="toleranciaEntrada" class="form-control" min="0" max="60" required>
                            <small class="form-hint">Exemplo: 10 minutos</small>
                        </div>
                        <div class="form-group">
                            <label for="toleranciaRetorno">Toler√¢ncia de Retorno do Almo√ßo (minutos)</label>
                            <input type="number" id="toleranciaRetorno" class="form-control" min="0" max="60" required>
                            <small class="form-hint">Exemplo: 10 minutos</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o: Intervalo de Almo√ßo -->
            <section class="config-section">
                <div class="section-header">
                    <h2>üçΩÔ∏è Intervalo de Almo√ßo</h2>
                    <p>Configure o intervalo m√≠nimo e m√°ximo permitido</p>
                </div>
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="intervaloMinimo">Intervalo M√≠nimo (minutos)</label>
                            <input type="number" id="intervaloMinimo" class="form-control" min="30" max="240" required>
                            <small class="form-hint">Exemplo: 60 minutos (1 hora)</small>
                        </div>
                        <div class="form-group">
                            <label for="intervaloMaximo">Intervalo M√°ximo (minutos)</label>
                            <input type="number" id="intervaloMaximo" class="form-control" min="30" max="240" required>
                            <small class="form-hint">Exemplo: 120 minutos (2 horas)</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o: Horas Extras -->
            <section class="config-section">
                <div class="section-header">
                    <h2>‚è∞ Horas Extras</h2>
                    <p>Configure as pol√≠ticas de horas extras da empresa</p>
                </div>
                <div class="section-content">
                    <div class="form-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="permiteHorasExtras" checked>
                            <span class="toggle-text">Permitir Horas Extras</span>
                        </label>
                    </div>
                    <div class="form-grid" id="horasExtrasConfig">
                        <div class="form-group">
                            <label for="limiteDiario">Limite Di√°rio (horas)</label>
                            <input type="number" id="limiteDiario" class="form-control" min="0" max="12" step="0.5"
                                required>
                            <small class="form-hint">Exemplo: 2 horas</small>
                        </div>
                        <div class="form-group">
                            <label for="limiteMensal">Limite Mensal (horas)</label>
                            <input type="number" id="limiteMensal" class="form-control" min="0" max="200" step="0.5"
                                required>
                            <small class="form-hint">Exemplo: 40 horas</small>
                        </div>
                        <div class="form-group">
                            <label for="percentualHoraExtra">Percentual de Acr√©scimo (%)</label>
                            <input type="number" id="percentualHoraExtra" class="form-control" min="0" max="200"
                                required>
                            <small class="form-hint">Exemplo: 50% (hora extra normal)</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o: Feriados -->
            <section class="config-section">
                <div class="section-header">
                    <h2>üéâ Gerenciar Feriados</h2>
                    <p>Cadastre e gerencie os feriados da empresa</p>
                </div>
                <div class="section-content">
                    <div class="feriados-header">
                        <button class="btn-primary" id="btnNovoFeriado">+ Novo Feriado</button>
                    </div>
                    <div class="table-container">
                        <table class="feriados-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Data</th>
                                    <th>Tipo</th>
                                    <th>Recorrente</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="feriadosTableBody">
                                <tr class="empty-state">
                                    <td colspan="5">Carregando feriados...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
    </main>

    <!-- Modal: Novo/Editar Feriado -->
    <div class="modal" id="modalFeriado">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalFeriadoTitulo">Novo Feriado</h3>
                <button class="modal-close" onclick="fecharModalFeriado()">√ó</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="feriadoId">
                <div class="form-group">
                    <label for="feriadoNome">Nome do Feriado *</label>
                    <input type="text" id="feriadoNome" class="form-control" placeholder="Ex: Natal" required>
                </div>
                <div class="form-group">
                    <label for="feriadoData">Data *</label>
                    <input type="date" id="feriadoData" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="feriadoTipo">Tipo *</label>
                    <select id="feriadoTipo" class="form-control" required>
                        <option value="NACIONAL">Nacional</option>
                        <option value="ESTADUAL">Estadual</option>
                        <option value="MUNICIPAL">Municipal</option>
                        <option value="FACULTATIVO">Facultativo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="feriadoRecorrente" checked>
                        <span class="toggle-text">Feriado Recorrente (repete todo ano)</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="fecharModalFeriado()">Cancelar</button>
                <button class="btn-primary" id="btnSalvarFeriado">Salvar Feriado</button>
            </div>
        </div>
    </div>
    </main>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <script src="/js/toast.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/configuracoes-empresa.js"></script>
</body>

</html>